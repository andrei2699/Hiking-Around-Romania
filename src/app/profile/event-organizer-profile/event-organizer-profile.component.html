<mat-card *ngIf="!organizerProfile" style="margin: 16px;">
    <mat-card-title>
        {{ 'PROFILE.NOT_AVAILABLE' | translate }}
    </mat-card-title>
</mat-card>

<mat-toolbar *ngIf="organizerProfile && isCurrentUser" class="toolbar-lighter-color">
    <button mat-button (click)="saveProfileAndShowSnackbar()" [disabled]="!isEditing" fxLayout="row"
        fxLayoutAlign="space-between center">
        <mat-icon aria-hidden="false" aria-label="Save Icon">save</mat-icon>
        <span>{{ 'PROFILE.SAVE' | translate }}</span>
    </button>
    <div fxFlex></div>
    <div fxLayout="row">
        <button mat-button [routerLink]="['/create-event']" fxLayout="row" fxLayoutAlign="space-between  center">
            <mat-icon aria-hidden="false" aria-label="Create Event Icon">note_add</mat-icon>
            <span>{{ 'EVENT_ORGANIZER.CREATE_EVENT' | translate }}</span>
        </button>
        <button mat-button (click)="editProfile()" [disabled]="isEditing" fxLayout="row"
            fxLayoutAlign="space-between  center">
            <mat-icon aria-hidden="false" aria-label="Edit Icon">create</mat-icon>
            <span>{{ 'PROFILE.EDIT' | translate }}</span>
        </button>
    </div>
</mat-toolbar>

<div *ngIf="organizerProfile" fxLayout="column">
    <mat-card class="profile-info">
        <mat-card-title>
            {{organizerProfile.name}}
        </mat-card-title>
        <p *ngIf="!isEditing">
            <img class="profile-photo"
                src="{{organizerProfile.profilePhotoUrl ? organizerProfile.profilePhotoUrl : unavailableImageUrl}}">
            {{organizerProfile.description}}
        </p>
        <div *ngIf="isEditing" fxLayout="row" fxLayoutAlign="start center">
            <div fxLayout="column" fxLayoutAlign="start center">
                <img class="profile-photo"
                    src="{{organizerProfile.profilePhotoUrl ? organizerProfile.profilePhotoUrl : unavailableImageUrl}}">
                <input #profilePhotoFileInput id="uploadProfilePhoto" mat-button
                    (change)="uploadPhoto($event.target.files)" hidden type="file"
                    accept="image/x-png,image/gif,image/jpeg">
                <button mat-button (click)="openProfilePhotoDialog()" fxLayout="row"
                    fxLayoutAlign="space-between  center">
                    <mat-icon aria-hidden="false" aria-label="Edit Icon">publish</mat-icon>
                    <span>{{ 'PROFILE.UPLOAD' | translate }}</span>
                </button>
            </div>
            <mat-form-field fxFlex>
                <mat-label>{{ 'PROFILE.DESCRIPTION' | translate}} </mat-label>
                <textarea cdkTextareaAutosize cdkAutosizeMinRows="4" cdkAutosizeMaxRows="30" matInput
                    placeholder="{{ 'PROFILE.EDIT_DESCRIPTION' | translate}}"
                    [(ngModel)]="organizerProfile.description"></textarea>
            </mat-form-field>
        </div>
    </mat-card>

    <app-photo-array class="profile-info" [(photoUrlArray)]="organizerProfile.otherPhotosUrl" [isEditing]="isEditing"
        (requestPhotoChange)="changeOtherPhoto($event)"></app-photo-array>
</div>